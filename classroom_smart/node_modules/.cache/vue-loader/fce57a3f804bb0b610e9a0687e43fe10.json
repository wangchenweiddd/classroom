{"remainingRequest":"D:\\WebstormProjects\\classroom_smart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WebstormProjects\\classroom_smart\\src\\components\\User\\AirPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WebstormProjects\\classroom_smart\\src\\components\\User\\AirPage.vue","mtime":1602210393915},{"path":"D:\\WebstormProjects\\classroom_smart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WebstormProjects\\classroom_smart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\WebstormProjects\\classroom_smart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WebstormProjects\\classroom_smart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"HomePage\",\n  mounted() {\n    this.getTree()\n    this.allNode()\n    this.getClassroomDataFunc()\n  },\n  data() {\n    return {\n      disabled: false,\n      type: '',\n      modal1: false,\n      name: '',\n      formItem: {\n        aoc: '',\n        wendu: 0,\n        moshi: '',\n        lock: '',\n        id: 0\n      },\n      currentRegionCode: '01',\n      treeData: [],\n      treeDataShow: [],\n      airconditionList: [],\n      loading: false,\n      total: 10,\n      run: 20,\n      stop: 30,\n      offline: 40,\n    }\n  },\n  methods: {\n    getTree() {\n      // this.$api.getTree(\"160\").then(res => {\n      //   this.treeData = res.data.data;\n      //   this.treeData.unshift({\n      //     id: \"school.0\",\n      //     name: '安徽大学',\n      //     title: \"安徽大学\",\n      //     regionCode: \"0\",\n      //     open: false,\n      //     pid: \"\"\n      //   });\n      //   this.treeData.forEach(item => {\n      //     item.title = item.name\n      //   })\n      //   this.startTrans()\n      // })\n      this.treeDataShow = [\n        {\n          id: \"school.0\",\n          name: '安徽大学',\n          title: \"安徽大学\",\n          regionCode: \"0\",\n          open: false,\n          pid: \"\",\n          expand: true,\n          children: [\n            {\n              id: \"campus.1\",\n              name: '磬苑校区',\n              pid: \"school.0\",\n              open: 'false',\n              regionCode: \"01\",\n              title: \"磬苑校区\",\n              expand: true,\n              children: [\n                {\n                  id: \"group.1\",\n                  name: '博学南楼',\n                  pid: \"campus.1\",\n                  open: 'false',\n                  regionCode: \"0101\",\n                  title: \"博学南楼\",\n                  expand: true,\n                  children: [\n                    {\n                      id: \"build.1\",\n                      name: '博南A楼',\n                      pid: \"group.1\",\n                      open: 'false',\n                      regionCode: \"010101\",\n                      title: \"博南A楼\",\n                      expand: true,\n                      children: [\n                        {\n                          id: \"floor.1\",\n                          name: '博南A楼1层',\n                          pid: \"build.1\",\n                          open: 'false',\n                          regionCode: \"01010101\",\n                          title: \"博南A楼1层\",\n                        },\n                        {\n                          id: \"floor.2\",\n                          name: '博南A楼2层',\n                          pid: \"build.1\",\n                          open: 'false',\n                          regionCode: \"01010102\",\n                          title: \"博南A楼2层\",\n                        },\n                        {\n                          id: \"floor.3\",\n                          name: '博南A楼3层',\n                          pid: \"build.1\",\n                          open: 'false',\n                          regionCode: \"01010103\",\n                          title: \"博南A楼3层\",\n                        },\n                        {\n                          id: \"floor.4\",\n                          name: '博南A楼4层',\n                          pid: \"build.1\",\n                          open: 'false',\n                          regionCode: \"01010104\",\n                          title: \"博南A楼4层\",\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    // startTrans() {\n    //   //没有父节点的数据\n    //   let parents = this.treeData.filter(\n    //     value => value.pid == '' || value.pid == null\n    //   )\n    //\n    //   //有父节点的数据\n    //   let childrens = this.treeData.filter(\n    //     value => value.pid !== \"undefined\" && value.pid != null\n    //   )\n    //   this.treeDataShow = this.translateTree(parents, childrens)\n    //   console.log('treeDataShow', this.treeDataShow)\n    // },\n    // translateTree(parents, childrens) {\n    //   parents.forEach(parent => {\n    //     childrens.forEach((child, index) => {\n    //       if (child.pid === parent.id) {\n    //\n    //         let temp = JSON.parse(JSON.stringify(childrens))\n    //\n    //         temp.splice(index, 1)\n    //\n    //         this.translateTree([child], temp)\n    //\n    //         typeof parent.children !== \"undefined\"\n    //           ? parent.children.push(child)\n    //           : (parent.children = [child])\n    //       }\n    //     })\n    //   })\n    //   return parents\n    // },\n    selectNode(data) {\n      console.log('data', data)\n      this.currentRegionCode = data[0].regionCode\n      this.getClassroomDataFunc()\n      this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n        console.log('count', res)\n        this.total = res.data.data.all,\n        this.run = res.data.data.open,\n        this.stop = res.data.data.close,\n        this.offline = res.data.data.offline\n      })\n    },\n    allNode() {\n      this.$api.getAirConditionCount('160', '01' ).then(res => {\n          this.total = res.data.data.all,\n          this.run = res.data.data.open,\n          this.stop = res.data.data.close,\n          this.offline = res.data.data.offline\n      })\n    },\n    nodeContext(data) {\n      console.log(data)\n    },\n    showTotal() {\n      this.$api.getAirConditionData('160', this.currentRegionCode, '总数').then(res => {\n        console.log('res', res)\n        res.data.data.forEach(item => {\n          item.selected = false\n        })\n        this.airconditionList = res.data.data\n        this.type = '总数'\n        this.loading = false\n      })\n    },\n    showRun() {\n      this.$api.getAirConditionData('160', this.currentRegionCode, '运行').then(res => {\n        console.log('res', res)\n        res.data.data.forEach(item => {\n          item.selected = false\n        })\n        this.airconditionList = res.data.data\n        this.type = '运行'\n        this.loading = false\n      })\n    },\n    showStop() {\n      this.$api.getAirConditionData('160', this.currentRegionCode, '停止').then(res => {\n        console.log('res', res)\n        res.data.data.forEach(item => {\n          item.selected = false\n        })\n        this.airconditionList = res.data.data\n        this.type = '停止'\n        this.loading = false\n      })\n    },\n    showOffline() {\n      this.$api.getAirConditionData('160', this.currentRegionCode, '离线').then(res => {\n        console.log('res', res)\n        res.data.data.forEach(item => {\n          item.selected = false\n        })\n        this.airconditionList = res.data.data\n        this.type = '离线'\n        this.loading = false\n      })\n    },\n    getClassroomDataFunc() {\n      this.loading = true\n      this.$api.getAirConditionData('160', this.currentRegionCode, '总数').then(res => {\n        console.log('res', res)\n        res.data.data.forEach(item => {\n          item.selected = false\n        })\n        this.airconditionList = res.data.data\n        this.loading = false\n      })\n    },\n    selectThisSet(item) {\n      this.airconditionList.forEach(air => {\n        if (air.deviceId === item.deviceId && !air.selected) {\n          air.selected = true\n        } else if(air.deviceId === item.deviceId && air.selected){\n          air.selected = false\n        }\n      })\n      console.log('item', item)\n      this.modal1 = true\n      this.name = item.fullName\n      this.formItem.aoc = item.aoc\n      this.formItem.wendu = item.temp\n      this.formItem.moshi = item.mode\n      this.formItem.lock = item.elec\n      this.formItem.id = item.deviceId\n    },\n    ok1() {\n      const loadingMsg = this.$Message.loading({\n        content: '发送中...',\n        duration: 0\n      })\n      this.disabled = true\n      let data = {\n        deviceId: [this.formItem.id],\n        airConControlAttr: {\n          aoc: this.formItem.aoc,\n          temp: this.formItem.wendu + '',\n          model: this.formItem.moshi,\n          elecLock: this.formItem.lock\n        },\n        description: \"勾选控制\",\n        userId: 160\n      }\n      this.$api.airControl(data).then(res => {\n        console.log('kongzhi',res)\n        if(this.type === '' || this.type === '总数') {\n          // this.showTotal()\n          this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n            console.log('count', res)\n            this.total = res.data.data.all,\n              this.run = res.data.data.open,\n              this.stop = res.data.data.close,\n              this.offline = res.data.data.offline\n          })\n          this.showTotal()\n        }else if (this.type === '运行') {\n          // this.showRun()\n          this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n            console.log('count', res)\n            this.total = res.data.data.all,\n              this.run = res.data.data.open,\n              this.stop = res.data.data.close,\n              this.offline = res.data.data.offline\n          })\n          this.showRun()\n        }else if (this.type === '停止') {\n          // this.showStop()\n          this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n            console.log('count', res)\n            this.total = res.data.data.all,\n              this.run = res.data.data.open,\n              this.stop = res.data.data.close,\n              this.offline = res.data.data.offline\n          })\n          this.showStop()\n        }else {\n          // this.showOffline()\n          this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n            console.log('count', res)\n            this.total = res.data.data.all,\n              this.run = res.data.data.open,\n              this.stop = res.data.data.close,\n              this.offline = res.data.data.offline\n          })\n          this.showOffline()\n        }\n        this.$Message.destroy(loadingMsg)\n        this.modal1 = false\n        this.disabled = false\n      })\n    }\n  }\n}\n",{"version":3,"sources":["AirPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AirPage.vue","sourceRoot":"src/components/User","sourcesContent":["<template>\n  <div>\n    <Row>\n      <Col span=\"4\">\n        <div class=\"tree-container\">\n          <Tree @on-select-change=\"selectNode\" @node-contextmenu=\"nodeContext\" :data=\"treeDataShow\" v-loading=\"!treeDataShow.length\"></Tree>\n        </div>\n      </Col>\n      <Col span=\"20\">\n\n        <div class=\"content\" v-loading=\"loading\">\n          <h2 style=\"margin-left: 30px\">空调展示</h2>\n          <div style=\"width: 100%; display: flex;flex-direction: row;justify-content: center;align-items: center\">\n            <el-button type=\"primary\" @click=\"showTotal\" style=\"width: 90px\" ghost>总数 {{total}}</el-button>\n            <el-button type=\"primary\" @click=\"showRun\" style=\"width: 90px\" ghost>运行 {{run}}</el-button>\n            <el-button type=\"primary\" @click=\"showStop\" style=\"width: 90px\" ghost>停止 {{stop}}</el-button>\n            <el-button type=\"primary\" @click=\"showOffline\" style=\"width: 90px\" ghost>离线 {{offline}}</el-button>\n          </div>\n          <div class=\"content-item\" v-for=\"(item, index) in airconditionList\">\n            <Card v-loading=\"!airconditionList.length\">\n              <p class=\"title-con\" slot=\"title\">\n                <span>{{item.fullName}}<i v-if=\"item.selected\" class=\"el-icon-circle-check time-selected\"></i></span>\n                <i v-show=\"item.aoc !== '离线'\" class=\"icon-kongtiao iconfont\" :class=\"{'set-active': item.aoc === '开机'}\"\n                   @click.stop=\"selectThisSet(item)\"></i>\n              </p>\n              <div class=\"card-container\">\n                <div class=\"card-left\">\n                  <i class=\"iconfont icon-temperature\"></i>\n                  <div class=\"air-tem\">{{item.temp}}℃</div>\n                </div>\n                <div class=\"card-mid\">\n                  <span>{{item.mode}}</span>\n                </div>\n                <div class=\"card-right\">\n                  <span>{{item.wind}}</span>\n                </div>\n                <div class=\"card-right\">\n                  <Icon v-if=\"item.elec == '无效'\" type=\"md-lock\" size=\"24\"/>\n                  <Icon v-if=\"item.elec == '有效'\" type=\"md-lock\" size=\"24\" color=\"#00AAFF\"/>\n                  <span>{{item.elec}}</span>\n                </div>\n              </div>\n              <div class=\"card-bottom\"><span>开机时间{{item.openTime}}分钟</span><span>运行时间{{item.openSumTime}}分钟</span></div>\n            </Card>\n          </div>\n          <div v-if=\"!airconditionList.length && !loading\">暂无数据</div>\n          <Modal\n            v-model=\"modal1\"\n            :title=\"name\"\n            :mask-closable=\"false\"\n          >\n            <Form :model=\"formItem\" label-position=\"left\" :label-width=\"100\">\n              <FormItem label=\"开关机\">\n                <RadioGroup v-model=\"formItem.aoc\">\n                  <Radio label=\"开机\">开机</Radio>\n                  <Radio label=\"关机\">关机</Radio>\n                </RadioGroup>\n              </FormItem>\n              <FormItem label=\"温度\">\n                <InputNumber :max=\"30\" :min=\"16\" v-model=\"formItem.wendu\"></InputNumber>\n              </FormItem>\n              <FormItem label=\"模式\">\n                <RadioGroup v-model=\"formItem.moshi\">\n                  <Radio label=\"制冷\">制冷</Radio>\n                  <Radio label=\"制热\">制热</Radio>\n                </RadioGroup>\n              </FormItem>\n              <FormItem label=\"电子锁\">\n                <RadioGroup v-model=\"formItem.lock\">\n                  <Radio label=\"有效\">有效</Radio>\n                  <Radio label=\"无效\">无效</Radio>\n                </RadioGroup>\n              </FormItem>\n            </Form>\n            <div slot=\"footer\">\n              <Button type=\"primary\" @click=\"ok1\" :disabled=\"disabled\">确定</Button>\n            </div>\n          </Modal>\n        </div>\n      </Col>\n    </Row>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"HomePage\",\n    mounted() {\n      this.getTree()\n      this.allNode()\n      this.getClassroomDataFunc()\n    },\n    data() {\n      return {\n        disabled: false,\n        type: '',\n        modal1: false,\n        name: '',\n        formItem: {\n          aoc: '',\n          wendu: 0,\n          moshi: '',\n          lock: '',\n          id: 0\n        },\n        currentRegionCode: '01',\n        treeData: [],\n        treeDataShow: [],\n        airconditionList: [],\n        loading: false,\n        total: 10,\n        run: 20,\n        stop: 30,\n        offline: 40,\n      }\n    },\n    methods: {\n      getTree() {\n        // this.$api.getTree(\"160\").then(res => {\n        //   this.treeData = res.data.data;\n        //   this.treeData.unshift({\n        //     id: \"school.0\",\n        //     name: '安徽大学',\n        //     title: \"安徽大学\",\n        //     regionCode: \"0\",\n        //     open: false,\n        //     pid: \"\"\n        //   });\n        //   this.treeData.forEach(item => {\n        //     item.title = item.name\n        //   })\n        //   this.startTrans()\n        // })\n        this.treeDataShow = [\n          {\n            id: \"school.0\",\n            name: '安徽大学',\n            title: \"安徽大学\",\n            regionCode: \"0\",\n            open: false,\n            pid: \"\",\n            expand: true,\n            children: [\n              {\n                id: \"campus.1\",\n                name: '磬苑校区',\n                pid: \"school.0\",\n                open: 'false',\n                regionCode: \"01\",\n                title: \"磬苑校区\",\n                expand: true,\n                children: [\n                  {\n                    id: \"group.1\",\n                    name: '博学南楼',\n                    pid: \"campus.1\",\n                    open: 'false',\n                    regionCode: \"0101\",\n                    title: \"博学南楼\",\n                    expand: true,\n                    children: [\n                      {\n                        id: \"build.1\",\n                        name: '博南A楼',\n                        pid: \"group.1\",\n                        open: 'false',\n                        regionCode: \"010101\",\n                        title: \"博南A楼\",\n                        expand: true,\n                        children: [\n                          {\n                            id: \"floor.1\",\n                            name: '博南A楼1层',\n                            pid: \"build.1\",\n                            open: 'false',\n                            regionCode: \"01010101\",\n                            title: \"博南A楼1层\",\n                          },\n                          {\n                            id: \"floor.2\",\n                            name: '博南A楼2层',\n                            pid: \"build.1\",\n                            open: 'false',\n                            regionCode: \"01010102\",\n                            title: \"博南A楼2层\",\n                          },\n                          {\n                            id: \"floor.3\",\n                            name: '博南A楼3层',\n                            pid: \"build.1\",\n                            open: 'false',\n                            regionCode: \"01010103\",\n                            title: \"博南A楼3层\",\n                          },\n                          {\n                            id: \"floor.4\",\n                            name: '博南A楼4层',\n                            pid: \"build.1\",\n                            open: 'false',\n                            regionCode: \"01010104\",\n                            title: \"博南A楼4层\",\n                          }\n                        ]\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      // startTrans() {\n      //   //没有父节点的数据\n      //   let parents = this.treeData.filter(\n      //     value => value.pid == '' || value.pid == null\n      //   )\n      //\n      //   //有父节点的数据\n      //   let childrens = this.treeData.filter(\n      //     value => value.pid !== \"undefined\" && value.pid != null\n      //   )\n      //   this.treeDataShow = this.translateTree(parents, childrens)\n      //   console.log('treeDataShow', this.treeDataShow)\n      // },\n      // translateTree(parents, childrens) {\n      //   parents.forEach(parent => {\n      //     childrens.forEach((child, index) => {\n      //       if (child.pid === parent.id) {\n      //\n      //         let temp = JSON.parse(JSON.stringify(childrens))\n      //\n      //         temp.splice(index, 1)\n      //\n      //         this.translateTree([child], temp)\n      //\n      //         typeof parent.children !== \"undefined\"\n      //           ? parent.children.push(child)\n      //           : (parent.children = [child])\n      //       }\n      //     })\n      //   })\n      //   return parents\n      // },\n      selectNode(data) {\n        console.log('data', data)\n        this.currentRegionCode = data[0].regionCode\n        this.getClassroomDataFunc()\n        this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n          console.log('count', res)\n          this.total = res.data.data.all,\n          this.run = res.data.data.open,\n          this.stop = res.data.data.close,\n          this.offline = res.data.data.offline\n        })\n      },\n      allNode() {\n        this.$api.getAirConditionCount('160', '01' ).then(res => {\n            this.total = res.data.data.all,\n            this.run = res.data.data.open,\n            this.stop = res.data.data.close,\n            this.offline = res.data.data.offline\n        })\n      },\n      nodeContext(data) {\n        console.log(data)\n      },\n      showTotal() {\n        this.$api.getAirConditionData('160', this.currentRegionCode, '总数').then(res => {\n          console.log('res', res)\n          res.data.data.forEach(item => {\n            item.selected = false\n          })\n          this.airconditionList = res.data.data\n          this.type = '总数'\n          this.loading = false\n        })\n      },\n      showRun() {\n        this.$api.getAirConditionData('160', this.currentRegionCode, '运行').then(res => {\n          console.log('res', res)\n          res.data.data.forEach(item => {\n            item.selected = false\n          })\n          this.airconditionList = res.data.data\n          this.type = '运行'\n          this.loading = false\n        })\n      },\n      showStop() {\n        this.$api.getAirConditionData('160', this.currentRegionCode, '停止').then(res => {\n          console.log('res', res)\n          res.data.data.forEach(item => {\n            item.selected = false\n          })\n          this.airconditionList = res.data.data\n          this.type = '停止'\n          this.loading = false\n        })\n      },\n      showOffline() {\n        this.$api.getAirConditionData('160', this.currentRegionCode, '离线').then(res => {\n          console.log('res', res)\n          res.data.data.forEach(item => {\n            item.selected = false\n          })\n          this.airconditionList = res.data.data\n          this.type = '离线'\n          this.loading = false\n        })\n      },\n      getClassroomDataFunc() {\n        this.loading = true\n        this.$api.getAirConditionData('160', this.currentRegionCode, '总数').then(res => {\n          console.log('res', res)\n          res.data.data.forEach(item => {\n            item.selected = false\n          })\n          this.airconditionList = res.data.data\n          this.loading = false\n        })\n      },\n      selectThisSet(item) {\n        this.airconditionList.forEach(air => {\n          if (air.deviceId === item.deviceId && !air.selected) {\n            air.selected = true\n          } else if(air.deviceId === item.deviceId && air.selected){\n            air.selected = false\n          }\n        })\n        console.log('item', item)\n        this.modal1 = true\n        this.name = item.fullName\n        this.formItem.aoc = item.aoc\n        this.formItem.wendu = item.temp\n        this.formItem.moshi = item.mode\n        this.formItem.lock = item.elec\n        this.formItem.id = item.deviceId\n      },\n      ok1() {\n        const loadingMsg = this.$Message.loading({\n          content: '发送中...',\n          duration: 0\n        })\n        this.disabled = true\n        let data = {\n          deviceId: [this.formItem.id],\n          airConControlAttr: {\n            aoc: this.formItem.aoc,\n            temp: this.formItem.wendu + '',\n            model: this.formItem.moshi,\n            elecLock: this.formItem.lock\n          },\n          description: \"勾选控制\",\n          userId: 160\n        }\n        this.$api.airControl(data).then(res => {\n          console.log('kongzhi',res)\n          if(this.type === '' || this.type === '总数') {\n            // this.showTotal()\n            this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n              console.log('count', res)\n              this.total = res.data.data.all,\n                this.run = res.data.data.open,\n                this.stop = res.data.data.close,\n                this.offline = res.data.data.offline\n            })\n            this.showTotal()\n          }else if (this.type === '运行') {\n            // this.showRun()\n            this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n              console.log('count', res)\n              this.total = res.data.data.all,\n                this.run = res.data.data.open,\n                this.stop = res.data.data.close,\n                this.offline = res.data.data.offline\n            })\n            this.showRun()\n          }else if (this.type === '停止') {\n            // this.showStop()\n            this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n              console.log('count', res)\n              this.total = res.data.data.all,\n                this.run = res.data.data.open,\n                this.stop = res.data.data.close,\n                this.offline = res.data.data.offline\n            })\n            this.showStop()\n          }else {\n            // this.showOffline()\n            this.$api.getAirConditionCount('160', this.currentRegionCode ).then(res => {\n              console.log('count', res)\n              this.total = res.data.data.all,\n                this.run = res.data.data.open,\n                this.stop = res.data.data.close,\n                this.offline = res.data.data.offline\n            })\n            this.showOffline()\n          }\n          this.$Message.destroy(loadingMsg)\n          this.modal1 = false\n          this.disabled = false\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .tree-container {\n    overflow: auto;\n    height: calc(100vh - 100px);\n    border: 1px solid #e8eaec;\n    border-radius: 5px;\n    padding: 10px;\n    &::-webkit-scrollbar {\n      width: 3px;\n    }\n    &::-webkit-scrollbar-thumb {\n      background: #d8d8d8;\n      border-radius: 10px;\n    }\n    &::-webkit-scrollbar-track-piece {\n      background: transparent;\n    }\n  }\n  .content {\n    display: flex;\n    padding: 10px 10px 10px 30px;\n    flex-wrap: wrap;\n    height: calc(100vh - 100px);\n    overflow: auto;\n  }\n  .content-item {\n    flex: 0 0 300px;\n    height: 175px;\n    margin-left: 20px;\n    margin-top: 20px;\n  }\n  .card-container {\n    display: flex;\n  }\n  .title-con {\n    justify-content: space-between;\n    display: flex;\n  }\n  .card-left {\n    flex: 1;\n    text-align: center;\n    line-height: 66px;\n    display: flex;\n  }\n  .card-mid {\n    flex: 1;\n    text-align: center;\n    line-height: 66px;\n  }\n  .card-right {\n    flex: 1;\n    text-align: center;\n    line-height: 66px;\n\n  }\n  .room-light {\n    font-size: 25px;\n    margin-right: 5px;\n  }\n  .set-active {\n    color: #409EFF;\n  }\n  @font-face {font-family: \"iconfont\";\n    src: url('//at.alicdn.com/t/font_1856307_k3n6r8aao3f.eot?t=1591014838214'); /* IE9 */\n    src: url('//at.alicdn.com/t/font_1856307_k3n6r8aao3f.eot?t=1591014838214#iefix') format('embedded-opentype'), /* IE6-IE8 */\n    url('data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAXUAAsAAAAACuwAAAWHAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDHAqJKIdNATYCJAMQCwoABCAFhG0HSBs/CRFVpJmR/Shwd3K+lRvnzcu6X49LsRxk8HTaz1uk27dF4lK84mBtjgyKIxDch5mt6VhDVpgI1SVrWX76/zbf7vylKeM8TqMUCg0WRQIEEPz/+82KWITTxW6j0YvJ+x/VJqaREEmweV1IZhbK8lbqcpuB7ArWbeUXjwcCgMIPMSAlZTUtEMDBWY0AIONGjxwMoWQF18MiEAyylm05P7IBPARmJfMEwPr498k3SCICwIBn4azbMKJ0GAo+9/08m5UcEvqFBCincwOQdgJYADEAOICMavUOAZvqYmJE27I5pAEQXDcDTDXL//NshyNVHQUJvA9gqP95RAYHubDUFD17xpS+GBjgc39FG5bNqq4A4sJtBABagKwHyIdwcJ94MREsBF9K2UCOvQei9lTK5S4u/v5+TTMtlhbJ2grpaCikg6K4+rA32X/cP4zd3maz9aOrTISIkAxtdN+h9IJdBzr7iK1qUGLWtZkPhdE9BzStRg0o0dpsfQgOYLW2WiwTRNC2PtGtrm2RLa2mbgS/MJnI77KV3bEEcBcsAGSYW29rJ3i47fZoM9ETfvv11VfBGTUXrb4WSx9Wf2jVATB7jmDry9Vv/55jc+V0z8XstJYq7tuD2V22DulKiHzfNS+293q4Yu9VtMhXGSSjqFht1ptylkZh/vMm9VzSmvaoiaFbQ1bv1XTHWKyhRqPZbNIS06nk20O7mNR0i91n2yW6jPmgZ3eCxaoxribc+Fabfai5V6s17VNTAzKI7gDuQ1q6YR2WdaOqZ0pzV/fQg+gyM0xqQ5cGxr060exdDYPhNJtWH2artCRT0hj39w77bgZ1VrbRqGNOT2V6epipjY368uCZnvs7PLXvaSO0T3nPDrMwsyy4UY8GdmpPz6DvIvgZMmWRUjZCLK2RL1fG744nMzM8I6qbkvftycqbkhSaMXI8xRTQ8RmjQoon52WdKfStmoJyZuiSJUOJKw3XJUNRXj1lyk8jI0Y++7Si4rKHnrDmEVdq7nmnIthKzPuT58vLGgv9dXi+f2RLImmbNrUP08awLtKWWD7HnqBC0t5GipyCi3/b7woocanwUqDSxcyL9+lEitrbNN9tcrrCVqg2jT3s5VTa0Ork3It8VhojVVc7ZXtUVenH6KurhFQaLCh/7J2yYcmGENpAQ+J5UrzH7c2i76nfo2Hkqfqp8yDxa9/VvLsh2vBE8+RR6rPZBYs9MhA5aTFI/4m9q0OrQvu93/Thw/wBw6D//XF8fML7ows2e0Qgc9JmkNqJvXN7CUWE+nXJZNk78ccUL64MF+kyETGYmXfSoGM74oaUDNjQ5H5R+Lih2JTjXxBa8i+zd0Qn6Zy+l3ypfCsNXypccYO4BLoQum1xZh3enO3utu2bKh/699+/P/b16WTGQId6C7UZi7dRV4WXwlX5Z9rb8q/2XQDGj0NurH6chkkAAEcv+5IdDjiWMc/Y+YBD4may0kt9OSyTLUoY6J7zmyA+1UNv/6M9F6swDK9XJax8YbdxMwCH45my2rFxnK70sRl4Azigz4nwamkDRQEONqj0nQLXGMUAIdDkwHDiCyxBCJGjxgBPlAIygnygou12FqmwIbIzgCgPBgi5JzDcXAeW3IvIUT/A0/qDjLwhUH1y9ikKK1+sGJVgAvoOeUyN8RyySEr3mHaV4qI65p2R2zwEgetXUztskKfYoL2koYgBw1TDljkZVhWBZSowFjcTsZHnmbYncmOqewvFGFIESgDtDuRipGHCwWJR+/k9lOpUFO7paUieIdbK5w4CLh8g7lAD9dxKdesiFRIuagAjFZMa2HJuVLlxAmz7UgUUE66MImpFPK6fQZG7PF7fwhMAKGchLoawhCM8+P+f3EyWgrU97Zt0jLOSmlRyRb0eAA==') format('woff2'),\n    url('//at.alicdn.com/t/font_1856307_k3n6r8aao3f.woff?t=1591014838214') format('woff'),\n    url('//at.alicdn.com/t/font_1856307_k3n6r8aao3f.ttf?t=1591014838214') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\n    url('//at.alicdn.com/t/font_1856307_k3n6r8aao3f.svg?t=1591014838214#iconfont') format('svg'); /* iOS 4.1- */\n  }\n\n  .iconfont {\n    font-family: \"iconfont\" !important;\n    font-size: 25px;\n    font-style: normal;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  .icon-light:before {\n    content: \"\\e63b\";\n  }\n\n  .icon-temperature:before {\n    content: \"\\e61d\";\n  }\n\n  .icon-kongtiao:before {\n    content: \"\\e61f\";\n    font-size: 18px;\n  }\n  .card-bottom {\n    display: flex;\n    justify-content: space-between;\n  }\n  .time-selected {\n    color: #409EFF;\n  }\n\n\n\n\n</style>\n"]}]}